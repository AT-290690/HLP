:= [crates; .: [:: ["22"; 
    .: [.: ["1000\n2000\n3000\n\n4000\n\n5000\n6000\n\n7000\n8000\n9000\n\n10000"; 24000; 45000]]]]]; 
:= [aoc; .:< [crates]; 
aoc22; ::. [aoc; "22"]; 
day1; .:. [aoc22; 0]; 
sample; .:. [day1; 0]; 
part1; .:. [day1; 1]; 
part2; .:. [day1; 2]; 
input; |> [sample; 
  .:from_string ["\n\n"]; 
  .:map>> [-> [x; 
      |> [x; 
        .:from_string ["\n"]; 
        .:map>> [-> [x; 
            ` [x]]]; 
        .:reduce>> [-> [a; x; 
            + [a; x]]; 0]]]]]]; 
.: [|> [input; 
  .:quick_sort [-1]; 
  .:< []; 
  == [part1]]; 
|> [input; 
  .:quick_sort [-1]; 
  .:slice [0; 3]; 
  .:reduce>> [-> [a; x; 
      + [a; x]]; 0]; 
  == [part2]]];